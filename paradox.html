<!DOCTYPE html>
<html lang="" xml:lang="">
<head>

  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <title>5.4 Parameters (using paradox) | mlr3 book</title>
  <meta name="description" content="5.4 Parameters (using paradox) | mlr3 book" />
  <meta name="generator" content="bookdown 0.21 and GitBook 2.6.7" />

  <meta property="og:title" content="5.4 Parameters (using paradox) | mlr3 book" />
  <meta property="og:type" content="book" />
  <meta property="og:url" content="https://mlr3book.mlr-org.com/" />
  <meta property="og:image" content="https://mlr3book.mlr-org.com/block.png" />
  
  <meta name="github-repo" content="mlr-org/mlr3book" />

  <meta name="twitter:card" content="summary" />
  <meta name="twitter:title" content="5.4 Parameters (using paradox) | mlr3 book" />
  
  
  <meta name="twitter:image" content="https://mlr3book.mlr-org.com/block.png" />

<meta name="author" content="Marc Becker" />
<meta name="author" content="Martin Binder" />
<meta name="author" content="Bernd Bischl" />
<meta name="author" content="Michel Lang" />
<meta name="author" content="Florian Pfisterer" />
<meta name="author" content="Nicholas G. Reich" />
<meta name="author" content="Jakob Richter" />
<meta name="author" content="Patrick Schratz" />
<meta name="author" content="Raphael Sonabend" />


<meta name="date" content="2020-11-11" />

  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="black" />
  <link rel="apple-touch-icon-precomposed" sizes="180x180" href="apple-touch-icon.png" />
  <link rel="shortcut icon" href="favicon.ico" type="image/x-icon" />
<link rel="prev" href="backends.html"/>
<link rel="next" href="logging.html"/>
<script src="libs/jquery-2.2.3/jquery.min.js"></script>
<link href="libs/gitbook-2.6.7/css/style.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-table.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-bookdown.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-highlight.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-search.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-fontsettings.css" rel="stylesheet" />
<link href="libs/gitbook-2.6.7/css/plugin-clipboard.css" rel="stylesheet" />









<script src="libs/accessible-code-block-0.0.1/empty-anchor.js"></script>
<link href="libs/anchor-sections-1.0/anchor-sections.css" rel="stylesheet" />
<script src="libs/anchor-sections-1.0/anchor-sections.js"></script>


<style type="text/css">
code.sourceCode > span { display: inline-block; line-height: 1.25; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode { white-space: pre; position: relative; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
code.sourceCode { white-space: pre-wrap; }
code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
    color: #aaaaaa;
  }
pre.numberSource { margin-left: 3em; border-left: 1px solid #aaaaaa;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
code span.al { color: #ff0000; font-weight: bold; } /* Alert */
code span.an { color: #60a0b0; font-weight: bold; font-style: italic; } /* Annotation */
code span.at { color: #7d9029; } /* Attribute */
code span.bn { color: #40a070; } /* BaseN */
code span.bu { } /* BuiltIn */
code span.cf { color: #007020; font-weight: bold; } /* ControlFlow */
code span.ch { color: #4070a0; } /* Char */
code span.cn { color: #880000; } /* Constant */
code span.co { color: #60a0b0; font-style: italic; } /* Comment */
code span.cv { color: #60a0b0; font-weight: bold; font-style: italic; } /* CommentVar */
code span.do { color: #ba2121; font-style: italic; } /* Documentation */
code span.dt { color: #902000; } /* DataType */
code span.dv { color: #40a070; } /* DecVal */
code span.er { color: #ff0000; font-weight: bold; } /* Error */
code span.ex { } /* Extension */
code span.fl { color: #40a070; } /* Float */
code span.fu { color: #06287e; } /* Function */
code span.im { } /* Import */
code span.in { color: #60a0b0; font-weight: bold; font-style: italic; } /* Information */
code span.kw { color: #007020; font-weight: bold; } /* Keyword */
code span.op { color: #666666; } /* Operator */
code span.ot { color: #007020; } /* Other */
code span.pp { color: #bc7a00; } /* Preprocessor */
code span.sc { color: #4070a0; } /* SpecialChar */
code span.ss { color: #bb6688; } /* SpecialString */
code span.st { color: #4070a0; } /* String */
code span.va { color: #19177c; } /* Variable */
code span.vs { color: #4070a0; } /* VerbatimString */
code span.wa { color: #60a0b0; font-weight: bold; font-style: italic; } /* Warning */
</style>

<link rel="stylesheet" href="style.css" type="text/css" />
</head>

<body>



  <div class="book without-animation with-summary font-size-2 font-family-1" data-basepath=".">

    <div class="book-summary">
      <nav role="navigation">

<ul class="summary">
<li><a href="./">mlr3 Manual <img src='https://raw.githubusercontent.com/mlr-org/mlr3/master/man/figures/logo.png' width=30 /></a></li>

<li class="divider"></li>
<li class="chapter" data-level="" data-path="index.html"><a href="index.html"><i class="fa fa-check"></i>Citation Info</a></li>
<li class="chapter" data-level="" data-path="quickstart.html"><a href="quickstart.html"><i class="fa fa-check"></i>Quickstart</a></li>
<li class="chapter" data-level="1" data-path="introduction.html"><a href="introduction.html"><i class="fa fa-check"></i><b>1</b> Introduction and Overview</a></li>
<li class="chapter" data-level="2" data-path="basics.html"><a href="basics.html"><i class="fa fa-check"></i><b>2</b> Basics</a><ul>
<li class="chapter" data-level="2.1" data-path="r6.html"><a href="r6.html"><i class="fa fa-check"></i><b>2.1</b> Quick R6 Intro for Beginners</a></li>
<li class="chapter" data-level="2.2" data-path="tasks.html"><a href="tasks.html"><i class="fa fa-check"></i><b>2.2</b> Tasks</a><ul>
<li class="chapter" data-level="2.2.1" data-path="tasks.html"><a href="tasks.html#tasks-types"><i class="fa fa-check"></i><b>2.2.1</b> Task Types</a></li>
<li class="chapter" data-level="2.2.2" data-path="tasks.html"><a href="tasks.html#tasks-creation"><i class="fa fa-check"></i><b>2.2.2</b> Task Creation</a></li>
<li class="chapter" data-level="2.2.3" data-path="tasks.html"><a href="tasks.html#tasks-predefined"><i class="fa fa-check"></i><b>2.2.3</b> Predefined tasks</a></li>
<li class="chapter" data-level="2.2.4" data-path="tasks.html"><a href="tasks.html#tasks-api"><i class="fa fa-check"></i><b>2.2.4</b> Task API</a><ul>
<li class="chapter" data-level="2.2.4.1" data-path="tasks.html"><a href="tasks.html#tasks-retrieving"><i class="fa fa-check"></i><b>2.2.4.1</b> Retrieving Data</a></li>
<li class="chapter" data-level="2.2.4.2" data-path="tasks.html"><a href="tasks.html#tasks-roles"><i class="fa fa-check"></i><b>2.2.4.2</b> Roles (Rows and Columns)</a></li>
<li class="chapter" data-level="2.2.4.3" data-path="tasks.html"><a href="tasks.html#tasks-mutators"><i class="fa fa-check"></i><b>2.2.4.3</b> Task Mutators</a></li>
</ul></li>
<li class="chapter" data-level="2.2.5" data-path="tasks.html"><a href="tasks.html#autoplot-task"><i class="fa fa-check"></i><b>2.2.5</b> Plotting Tasks</a></li>
</ul></li>
<li class="chapter" data-level="2.3" data-path="learners.html"><a href="learners.html"><i class="fa fa-check"></i><b>2.3</b> Learners</a><ul>
<li class="chapter" data-level="2.3.1" data-path="learners.html"><a href="learners.html#learners-predefined"><i class="fa fa-check"></i><b>2.3.1</b> Predefined Learners</a></li>
</ul></li>
<li class="chapter" data-level="2.4" data-path="train-predict.html"><a href="train-predict.html"><i class="fa fa-check"></i><b>2.4</b> Train and Predict</a><ul>
<li class="chapter" data-level="2.4.1" data-path="train-predict.html"><a href="train-predict.html#train-predict-objects"><i class="fa fa-check"></i><b>2.4.1</b> Creating Task and Learner Objects</a></li>
<li class="chapter" data-level="2.4.2" data-path="train-predict.html"><a href="train-predict.html#split-data"><i class="fa fa-check"></i><b>2.4.2</b> Setting up the train/test splits of the data</a></li>
<li class="chapter" data-level="2.4.3" data-path="train-predict.html"><a href="train-predict.html#training"><i class="fa fa-check"></i><b>2.4.3</b> Training the learner</a></li>
<li class="chapter" data-level="2.4.4" data-path="train-predict.html"><a href="train-predict.html#predicting"><i class="fa fa-check"></i><b>2.4.4</b> Predicting</a></li>
<li class="chapter" data-level="2.4.5" data-path="train-predict.html"><a href="train-predict.html#predict-type"><i class="fa fa-check"></i><b>2.4.5</b> Changing the Predict Type</a></li>
<li class="chapter" data-level="2.4.6" data-path="train-predict.html"><a href="train-predict.html#autoplot-prediction"><i class="fa fa-check"></i><b>2.4.6</b> Plotting Predictions</a></li>
<li class="chapter" data-level="2.4.7" data-path="train-predict.html"><a href="train-predict.html#measure"><i class="fa fa-check"></i><b>2.4.7</b> Performance assessment</a></li>
</ul></li>
<li class="chapter" data-level="2.5" data-path="resampling.html"><a href="resampling.html"><i class="fa fa-check"></i><b>2.5</b> Resampling</a><ul>
<li class="chapter" data-level="2.5.1" data-path="resampling.html"><a href="resampling.html#resampling-settings"><i class="fa fa-check"></i><b>2.5.1</b> Settings</a></li>
<li class="chapter" data-level="2.5.2" data-path="resampling.html"><a href="resampling.html#resampling-inst"><i class="fa fa-check"></i><b>2.5.2</b> Instantiation</a></li>
<li class="chapter" data-level="2.5.3" data-path="resampling.html"><a href="resampling.html#resampling-exec"><i class="fa fa-check"></i><b>2.5.3</b> Execution</a></li>
<li class="chapter" data-level="2.5.4" data-path="resampling.html"><a href="resampling.html#resamp-custom"><i class="fa fa-check"></i><b>2.5.4</b> Custom resampling</a></li>
<li class="chapter" data-level="2.5.5" data-path="resampling.html"><a href="resampling.html#autoplot-resampleresult"><i class="fa fa-check"></i><b>2.5.5</b> Plotting Resample Results</a></li>
</ul></li>
<li class="chapter" data-level="2.6" data-path="benchmarking.html"><a href="benchmarking.html"><i class="fa fa-check"></i><b>2.6</b> Benchmarking</a><ul>
<li class="chapter" data-level="2.6.1" data-path="benchmarking.html"><a href="benchmarking.html#bm-design"><i class="fa fa-check"></i><b>2.6.1</b> Design Creation</a></li>
<li class="chapter" data-level="2.6.2" data-path="benchmarking.html"><a href="benchmarking.html#bm-exec"><i class="fa fa-check"></i><b>2.6.2</b> Execution and Aggregation of Results</a></li>
<li class="chapter" data-level="2.6.3" data-path="benchmarking.html"><a href="benchmarking.html#autoplot-benchmarkresult"><i class="fa fa-check"></i><b>2.6.3</b> Plotting Benchmark Results</a></li>
<li class="chapter" data-level="2.6.4" data-path="benchmarking.html"><a href="benchmarking.html#bm-resamp"><i class="fa fa-check"></i><b>2.6.4</b> Extracting ResampleResults</a></li>
<li class="chapter" data-level="2.6.5" data-path="benchmarking.html"><a href="benchmarking.html#converting-and-merging-resampleresults"><i class="fa fa-check"></i><b>2.6.5</b> Converting and Merging ResampleResults</a></li>
</ul></li>
<li class="chapter" data-level="2.7" data-path="binary-classification.html"><a href="binary-classification.html"><i class="fa fa-check"></i><b>2.7</b> Binary classification</a><ul>
<li class="chapter" data-level="2.7.1" data-path="binary-classification.html"><a href="binary-classification.html#binary-roc"><i class="fa fa-check"></i><b>2.7.1</b> ROC Curve and Thresholds</a></li>
<li class="chapter" data-level="2.7.2" data-path="binary-classification.html"><a href="binary-classification.html#threshold-tuning"><i class="fa fa-check"></i><b>2.7.2</b> Threshold Tuning</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="3" data-path="optimization.html"><a href="optimization.html"><i class="fa fa-check"></i><b>3</b> Model Optimization</a><ul>
<li class="chapter" data-level="3.1" data-path="tuning.html"><a href="tuning.html"><i class="fa fa-check"></i><b>3.1</b> Hyperparameter Tuning</a><ul>
<li class="chapter" data-level="3.1.1" data-path="tuning.html"><a href="tuning.html#tuning-optimization"><i class="fa fa-check"></i><b>3.1.1</b> The <code>TuningInstance*</code> Classes</a></li>
<li class="chapter" data-level="3.1.2" data-path="tuning.html"><a href="tuning.html#the-tuner-class"><i class="fa fa-check"></i><b>3.1.2</b> The <code>Tuner</code> Class</a></li>
<li class="chapter" data-level="3.1.3" data-path="tuning.html"><a href="tuning.html#tuning-triggering"><i class="fa fa-check"></i><b>3.1.3</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.1.4" data-path="tuning.html"><a href="tuning.html#autotuner"><i class="fa fa-check"></i><b>3.1.4</b> Automating the Tuning</a></li>
</ul></li>
<li class="chapter" data-level="3.2" data-path="nested-resampling.html"><a href="nested-resampling.html"><i class="fa fa-check"></i><b>3.2</b> Nested Resampling</a><ul>
<li class="chapter" data-level="3.2.1" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-exec"><i class="fa fa-check"></i><b>3.2.1</b> Execution</a></li>
<li class="chapter" data-level="3.2.2" data-path="nested-resampling.html"><a href="nested-resampling.html#nested-resamp-eval"><i class="fa fa-check"></i><b>3.2.2</b> Evaluation</a></li>
</ul></li>
<li class="chapter" data-level="3.3" data-path="hyperband.html"><a href="hyperband.html"><i class="fa fa-check"></i><b>3.3</b> Tuning with Hyperband</a></li>
<li class="chapter" data-level="3.4" data-path="fs.html"><a href="fs.html"><i class="fa fa-check"></i><b>3.4</b> Feature Selection / Filtering</a><ul>
<li class="chapter" data-level="3.4.1" data-path="fs.html"><a href="fs.html#fs-filter"><i class="fa fa-check"></i><b>3.4.1</b> Filters</a></li>
<li class="chapter" data-level="3.4.2" data-path="fs.html"><a href="fs.html#fs-calc"><i class="fa fa-check"></i><b>3.4.2</b> Calculating filter values</a></li>
<li class="chapter" data-level="3.4.3" data-path="fs.html"><a href="fs.html#fs-var-imp-filters"><i class="fa fa-check"></i><b>3.4.3</b> Variable Importance Filters</a></li>
<li class="chapter" data-level="3.4.4" data-path="fs.html"><a href="fs.html#fs-ensemble"><i class="fa fa-check"></i><b>3.4.4</b> Ensemble Methods</a></li>
<li class="chapter" data-level="3.4.5" data-path="fs.html"><a href="fs.html#fs-wrapper"><i class="fa fa-check"></i><b>3.4.5</b> Wrapper Methods</a></li>
<li class="chapter" data-level="3.4.6" data-path="fs.html"><a href="fs.html#fs-wrapper-optimization"><i class="fa fa-check"></i><b>3.4.6</b> The <code>FSelectInstance</code> Classes</a></li>
<li class="chapter" data-level="3.4.7" data-path="fs.html"><a href="fs.html#the-fselector-class"><i class="fa fa-check"></i><b>3.4.7</b> The <code>FSelector</code> Class</a></li>
<li class="chapter" data-level="3.4.8" data-path="fs.html"><a href="fs.html#wrapper-selection-triggering"><i class="fa fa-check"></i><b>3.4.8</b> Triggering the Tuning</a></li>
<li class="chapter" data-level="3.4.9" data-path="fs.html"><a href="fs.html#autofselect"><i class="fa fa-check"></i><b>3.4.9</b> Automating the Feature Selection</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4" data-path="pipelines.html"><a href="pipelines.html"><i class="fa fa-check"></i><b>4</b> Pipelines</a><ul>
<li class="chapter" data-level="4.1" data-path="pipe-pipeops.html"><a href="pipe-pipeops.html"><i class="fa fa-check"></i><b>4.1</b> The Building Blocks: PipeOps</a></li>
<li class="chapter" data-level="4.2" data-path="pipe-operator.html"><a href="pipe-operator.html"><i class="fa fa-check"></i><b>4.2</b> The Pipeline Operator: <code>%&gt;&gt;%</code></a></li>
<li class="chapter" data-level="4.3" data-path="pipe-nodes-edges-graphs.html"><a href="pipe-nodes-edges-graphs.html"><i class="fa fa-check"></i><b>4.3</b> Nodes, Edges and Graphs</a></li>
<li class="chapter" data-level="4.4" data-path="pipe-modeling.html"><a href="pipe-modeling.html"><i class="fa fa-check"></i><b>4.4</b> Modeling</a><ul>
<li class="chapter" data-level="4.4.1" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-hyperpars"><i class="fa fa-check"></i><b>4.4.1</b> Setting Hyperparameters</a></li>
<li class="chapter" data-level="4.4.2" data-path="pipe-modeling.html"><a href="pipe-modeling.html#pipe-tuning"><i class="fa fa-check"></i><b>4.4.2</b> Tuning</a></li>
</ul></li>
<li class="chapter" data-level="4.5" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html"><i class="fa fa-check"></i><b>4.5</b> Non-Linear Graphs</a><ul>
<li class="chapter" data-level="4.5.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-branching-copying"><i class="fa fa-check"></i><b>4.5.1</b> Branching &amp; Copying</a></li>
<li class="chapter" data-level="4.5.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles"><i class="fa fa-check"></i><b>4.5.2</b> Model Ensembles</a><ul>
<li class="chapter" data-level="4.5.2.1" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-bagging"><i class="fa fa-check"></i><b>4.5.2.1</b> Bagging</a></li>
<li class="chapter" data-level="4.5.2.2" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#pipe-model-ensembles-stacking"><i class="fa fa-check"></i><b>4.5.2.2</b> Stacking</a></li>
<li class="chapter" data-level="4.5.2.3" data-path="pipe-nonlinear.html"><a href="pipe-nonlinear.html#multilevel-stacking"><i class="fa fa-check"></i><b>4.5.2.3</b> Multilevel Stacking</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="4.6" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html"><i class="fa fa-check"></i><b>4.6</b> Special Operators</a><ul>
<li class="chapter" data-level="4.6.1" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#imputation-pipeopimpute"><i class="fa fa-check"></i><b>4.6.1</b> Imputation: <code>PipeOpImpute</code></a></li>
<li class="chapter" data-level="4.6.2" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-engineering-pipeopmutate"><i class="fa fa-check"></i><b>4.6.2</b> Feature Engineering: <code>PipeOpMutate</code></a></li>
<li class="chapter" data-level="4.6.3" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#training-on-data-subsets-pipeopchunk"><i class="fa fa-check"></i><b>4.6.3</b> Training on data subsets: <code>PipeOpChunk</code></a></li>
<li class="chapter" data-level="4.6.4" data-path="pipe-special-ops.html"><a href="pipe-special-ops.html#feature-selection-pipeopfilter-and-pipeopselect"><i class="fa fa-check"></i><b>4.6.4</b> Feature Selection: <code>PipeOpFilter</code> and <code>PipeOpSelect</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html"><i class="fa fa-check"></i><b>4.7</b> In-depth look into mlr3pipelines</a><ul>
<li class="chapter" data-level="4.7.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#whats-the-point"><i class="fa fa-check"></i><b>4.7.1</b> What’s the Point</a></li>
<li class="chapter" data-level="4.7.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-pipeline-operators"><i class="fa fa-check"></i><b>4.7.2</b> <code>PipeOp</code>: Pipeline Operators</a><ul>
<li class="chapter" data-level="4.7.2.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#why-the-state"><i class="fa fa-check"></i><b>4.7.2.1</b> Why the <code>$state</code></a></li>
<li class="chapter" data-level="4.7.2.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#where-to-get-pipeops"><i class="fa fa-check"></i><b>4.7.2.2</b> Where to Get <code>PipeOp</code>s</a></li>
</ul></li>
<li class="chapter" data-level="4.7.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-channels"><i class="fa fa-check"></i><b>4.7.3</b> PipeOp Channels</a><ul>
<li class="chapter" data-level="4.7.3.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#input-channels"><i class="fa fa-check"></i><b>4.7.3.1</b> Input Channels</a></li>
<li class="chapter" data-level="4.7.3.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#output-channels"><i class="fa fa-check"></i><b>4.7.3.2</b> Output Channels</a></li>
<li class="chapter" data-level="4.7.3.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#channel-configuration"><i class="fa fa-check"></i><b>4.7.3.3</b> Channel Configuration</a></li>
</ul></li>
<li class="chapter" data-level="4.7.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graph-networks-of-pipeops"><i class="fa fa-check"></i><b>4.7.4</b> <code>Graph</code>: Networks of <code>PipeOp</code>s</a><ul>
<li class="chapter" data-level="4.7.4.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#basics-1"><i class="fa fa-check"></i><b>4.7.4.1</b> Basics</a></li>
<li class="chapter" data-level="4.7.4.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#networks"><i class="fa fa-check"></i><b>4.7.4.2</b> Networks</a></li>
<li class="chapter" data-level="4.7.4.3" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#syntactic-sugar"><i class="fa fa-check"></i><b>4.7.4.3</b> Syntactic Sugar</a></li>
<li class="chapter" data-level="4.7.4.4" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeop-ids-and-id-name-clashes"><i class="fa fa-check"></i><b>4.7.4.4</b> <code>PipeOp</code> IDs and ID Name Clashes</a></li>
</ul></li>
<li class="chapter" data-level="4.7.5" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#learners-in-graphs-graphs-in-learners"><i class="fa fa-check"></i><b>4.7.5</b> Learners in Graphs, Graphs in Learners</a><ul>
<li class="chapter" data-level="4.7.5.1" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#pipeoplearner"><i class="fa fa-check"></i><b>4.7.5.1</b> <code>PipeOpLearner</code></a></li>
<li class="chapter" data-level="4.7.5.2" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#graphlearner"><i class="fa fa-check"></i><b>4.7.5.2</b> <code>GraphLearner</code></a></li>
</ul></li>
<li class="chapter" data-level="4.7.6" data-path="in-depth-pipelines.html"><a href="in-depth-pipelines.html#hyperparameters"><i class="fa fa-check"></i><b>4.7.6</b> Hyperparameters</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5" data-path="technical.html"><a href="technical.html"><i class="fa fa-check"></i><b>5</b> Technical</a><ul>
<li class="chapter" data-level="5.1" data-path="parallelization.html"><a href="parallelization.html"><i class="fa fa-check"></i><b>5.1</b> Parallelization</a><ul>
<li class="chapter" data-level="5.1.1" data-path="parallelization.html"><a href="parallelization.html#nested-resampling-parallelization"><i class="fa fa-check"></i><b>5.1.1</b> Nested Resampling Parallelization</a></li>
</ul></li>
<li class="chapter" data-level="5.2" data-path="error-handling.html"><a href="error-handling.html"><i class="fa fa-check"></i><b>5.2</b> Error Handling</a><ul>
<li class="chapter" data-level="5.2.1" data-path="error-handling.html"><a href="error-handling.html#encapsulation"><i class="fa fa-check"></i><b>5.2.1</b> Encapsulation</a></li>
<li class="chapter" data-level="5.2.2" data-path="error-handling.html"><a href="error-handling.html#fallback-learners"><i class="fa fa-check"></i><b>5.2.2</b> Fallback learners</a></li>
</ul></li>
<li class="chapter" data-level="5.3" data-path="backends.html"><a href="backends.html"><i class="fa fa-check"></i><b>5.3</b> Database Backends</a><ul>
<li class="chapter" data-level="5.3.1" data-path="backends.html"><a href="backends.html#use-case-nyc-flights"><i class="fa fa-check"></i><b>5.3.1</b> Use Case: NYC Flights</a></li>
<li class="chapter" data-level="5.3.2" data-path="backends.html"><a href="backends.html#preprocessing-with-dplyr"><i class="fa fa-check"></i><b>5.3.2</b> Preprocessing with <code>dplyr</code></a></li>
<li class="chapter" data-level="5.3.3" data-path="backends.html"><a href="backends.html#databackenddplyr"><i class="fa fa-check"></i><b>5.3.3</b> DataBackendDplyr</a></li>
<li class="chapter" data-level="5.3.4" data-path="backends.html"><a href="backends.html#model-fitting"><i class="fa fa-check"></i><b>5.3.4</b> Model fitting</a></li>
<li class="chapter" data-level="5.3.5" data-path="backends.html"><a href="backends.html#cleanup"><i class="fa fa-check"></i><b>5.3.5</b> Cleanup</a></li>
</ul></li>
<li class="chapter" data-level="5.4" data-path="paradox.html"><a href="paradox.html"><i class="fa fa-check"></i><b>5.4</b> Parameters (using <code>paradox</code>)</a><ul>
<li class="chapter" data-level="5.4.1" data-path="paradox.html"><a href="paradox.html#reference-based-objects"><i class="fa fa-check"></i><b>5.4.1</b> Reference Based Objects</a></li>
<li class="chapter" data-level="5.4.2" data-path="paradox.html"><a href="paradox.html#defining-a-parameter-space"><i class="fa fa-check"></i><b>5.4.2</b> Defining a Parameter Space</a><ul>
<li class="chapter" data-level="5.4.2.1" data-path="paradox.html"><a href="paradox.html#single-parameters"><i class="fa fa-check"></i><b>5.4.2.1</b> Single Parameters</a></li>
<li class="chapter" data-level="5.4.2.2" data-path="paradox.html"><a href="paradox.html#parameter-sets"><i class="fa fa-check"></i><b>5.4.2.2</b> Parameter Sets</a></li>
<li class="chapter" data-level="5.4.2.3" data-path="paradox.html"><a href="paradox.html#vector-parameters"><i class="fa fa-check"></i><b>5.4.2.3</b> Vector Parameters</a></li>
</ul></li>
<li class="chapter" data-level="5.4.3" data-path="paradox.html"><a href="paradox.html#parameter-sampling"><i class="fa fa-check"></i><b>5.4.3</b> Parameter Sampling</a><ul>
<li class="chapter" data-level="5.4.3.1" data-path="paradox.html"><a href="paradox.html#parameter-designs"><i class="fa fa-check"></i><b>5.4.3.1</b> Parameter Designs</a></li>
<li class="chapter" data-level="5.4.3.2" data-path="paradox.html"><a href="paradox.html#grid-design"><i class="fa fa-check"></i><b>5.4.3.2</b> Grid Design</a></li>
<li class="chapter" data-level="5.4.3.3" data-path="paradox.html"><a href="paradox.html#random-sampling"><i class="fa fa-check"></i><b>5.4.3.3</b> Random Sampling</a></li>
<li class="chapter" data-level="5.4.3.4" data-path="paradox.html"><a href="paradox.html#generalized-sampling-the-sampler-class"><i class="fa fa-check"></i><b>5.4.3.4</b> Generalized Sampling: The <code>Sampler</code> Class</a></li>
</ul></li>
<li class="chapter" data-level="5.4.4" data-path="paradox.html"><a href="paradox.html#parameter-transformation"><i class="fa fa-check"></i><b>5.4.4</b> Parameter Transformation</a><ul>
<li class="chapter" data-level="5.4.4.1" data-path="paradox.html"><a href="paradox.html#transformation-between-types"><i class="fa fa-check"></i><b>5.4.4.1</b> Transformation between Types</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="5.5" data-path="logging.html"><a href="logging.html"><i class="fa fa-check"></i><b>5.5</b> Logging</a><ul>
<li class="chapter" data-level="5.5.1" data-path="logging.html"><a href="logging.html#changing-mlr3-logging-levels"><i class="fa fa-check"></i><b>5.5.1</b> Changing mlr3 logging levels</a></li>
<li class="chapter" data-level="5.5.2" data-path="logging.html"><a href="logging.html#redirecting-output"><i class="fa fa-check"></i><b>5.5.2</b> Redirecting output</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="6" data-path="extending.html"><a href="extending.html"><i class="fa fa-check"></i><b>6</b> Extending</a><ul>
<li class="chapter" data-level="6.1" data-path="extending-learners.html"><a href="extending-learners.html"><i class="fa fa-check"></i><b>6.1</b> Adding new Learners</a><ul>
<li class="chapter" data-level="6.1.1" data-path="extending-learners.html"><a href="extending-learners.html#create-learner"><i class="fa fa-check"></i><b>6.1.1</b> Calling create_learner</a></li>
<li class="chapter" data-level="6.1.2" data-path="extending-learners.html"><a href="extending-learners.html#learner_package_type_key.r"><i class="fa fa-check"></i><b>6.1.2</b> learner_package_type_key.R</a></li>
<li class="chapter" data-level="6.1.3" data-path="extending-learners.html"><a href="extending-learners.html#learner-meta-information"><i class="fa fa-check"></i><b>6.1.3</b> Meta-information</a></li>
<li class="chapter" data-level="6.1.4" data-path="extending-learners.html"><a href="extending-learners.html#param-set"><i class="fa fa-check"></i><b>6.1.4</b> ParamSet</a></li>
<li class="chapter" data-level="6.1.5" data-path="extending-learners.html"><a href="extending-learners.html#learner-train"><i class="fa fa-check"></i><b>6.1.5</b> Train function</a></li>
<li class="chapter" data-level="6.1.6" data-path="extending-learners.html"><a href="extending-learners.html#learner-predict"><i class="fa fa-check"></i><b>6.1.6</b> Predict function</a></li>
<li class="chapter" data-level="6.1.7" data-path="extending-learners.html"><a href="extending-learners.html#learner-control"><i class="fa fa-check"></i><b>6.1.7</b> Control objects/functions of learners</a></li>
<li class="chapter" data-level="6.1.8" data-path="extending-learners.html"><a href="extending-learners.html#learner-test"><i class="fa fa-check"></i><b>6.1.8</b> Testing the learner</a><ul>
<li class="chapter" data-level="6.1.8.1" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-manual"><i class="fa fa-check"></i><b>6.1.8.1</b> Train and Predict</a></li>
<li class="chapter" data-level="6.1.8.2" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-unit"><i class="fa fa-check"></i><b>6.1.8.2</b> Autotest</a></li>
<li class="chapter" data-level="6.1.8.3" data-path="extending-learners.html"><a href="extending-learners.html#learner-test-parameter"><i class="fa fa-check"></i><b>6.1.8.3</b> Checking Parameters</a></li>
</ul></li>
<li class="chapter" data-level="6.1.9" data-path="extending-learners.html"><a href="extending-learners.html#cleaning"><i class="fa fa-check"></i><b>6.1.9</b> Package Cleaning</a></li>
<li class="chapter" data-level="6.1.10" data-path="extending-learners.html"><a href="extending-learners.html#thanks-and-maintenance"><i class="fa fa-check"></i><b>6.1.10</b> Thanks and Maintenance</a></li>
<li class="chapter" data-level="6.1.11" data-path="extending-learners.html"><a href="extending-learners.html#learner-faq"><i class="fa fa-check"></i><b>6.1.11</b> Learner FAQ</a></li>
</ul></li>
<li class="chapter" data-level="6.2" data-path="extending-measures.html"><a href="extending-measures.html"><i class="fa fa-check"></i><b>6.2</b> Adding new Measures</a></li>
<li class="chapter" data-level="6.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html"><i class="fa fa-check"></i><b>6.3</b> Adding new PipeOps</a><ul>
<li class="chapter" data-level="6.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipeopcopy"><i class="fa fa-check"></i><b>6.3.1</b> General Case Example: <code>PipeOpCopy</code></a><ul>
<li class="chapter" data-level="6.3.1.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#first-steps-inheriting-from-pipeop"><i class="fa fa-check"></i><b>6.3.1.1</b> First Steps: Inheriting from <code>PipeOp</code></a></li>
<li class="chapter" data-level="6.3.1.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#channel-definitions"><i class="fa fa-check"></i><b>6.3.1.2</b> Channel Definitions</a></li>
<li class="chapter" data-level="6.3.1.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#train-and-predict"><i class="fa fa-check"></i><b>6.3.1.3</b> Train and Predict</a></li>
<li class="chapter" data-level="6.3.1.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#putting-it-together"><i class="fa fa-check"></i><b>6.3.1.4</b> Putting it Together</a></li>
</ul></li>
<li class="chapter" data-level="6.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-preproc"><i class="fa fa-check"></i><b>6.3.2</b> Special Case: Preprocessing</a><ul>
<li class="chapter" data-level="6.3.2.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropna"><i class="fa fa-check"></i><b>6.3.2.1</b> Example: <code>PipeOpDropNA</code></a></li>
<li class="chapter" data-level="6.3.2.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealways"><i class="fa fa-check"></i><b>6.3.2.2</b> Example: <code>PipeOpScaleAlways</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.3" data-path="extending-pipeops.html"><a href="extending-pipeops.html#special-case-preprocessing-with-simple-train"><i class="fa fa-check"></i><b>6.3.3</b> Special Case: Preprocessing with Simple Train</a><ul>
<li class="chapter" data-level="6.3.3.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopdropconst"><i class="fa fa-check"></i><b>6.3.3.1</b> Example: <code>PipeOpDropConst</code></a></li>
<li class="chapter" data-level="6.3.3.2" data-path="extending-pipeops.html"><a href="extending-pipeops.html#example-pipeopscalealwayssimple"><i class="fa fa-check"></i><b>6.3.3.2</b> Example: <code>PipeOpScaleAlwaysSimple</code></a></li>
</ul></li>
<li class="chapter" data-level="6.3.4" data-path="extending-pipeops.html"><a href="extending-pipeops.html#ext-pipe-hyperpars"><i class="fa fa-check"></i><b>6.3.4</b> Hyperparameters</a><ul>
<li class="chapter" data-level="6.3.4.1" data-path="extending-pipeops.html"><a href="extending-pipeops.html#hyperparameter-example-pipeopscale"><i class="fa fa-check"></i><b>6.3.4.1</b> Hyperparameter Example: <code>PipeOpScale</code></a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="7" data-path="special-tasks.html"><a href="special-tasks.html"><i class="fa fa-check"></i><b>7</b> Special Tasks</a><ul>
<li class="chapter" data-level="7.1" data-path="survival.html"><a href="survival.html"><i class="fa fa-check"></i><b>7.1</b> Survival Analysis</a><ul>
<li class="chapter" data-level="7.1.1" data-path="survival.html"><a href="survival.html#tasksurv"><i class="fa fa-check"></i><b>7.1.1</b> TaskSurv</a></li>
<li class="chapter" data-level="7.1.2" data-path="survival.html"><a href="survival.html#predict-types---crank-lp-and-distr"><i class="fa fa-check"></i><b>7.1.2</b> Predict Types - crank, lp, and distr</a></li>
<li class="chapter" data-level="7.1.3" data-path="survival.html"><a href="survival.html#composition"><i class="fa fa-check"></i><b>7.1.3</b> Composition</a></li>
<li class="chapter" data-level="7.1.4" data-path="survival.html"><a href="survival.html#benchmark-experiment"><i class="fa fa-check"></i><b>7.1.4</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.2" data-path="density.html"><a href="density.html"><i class="fa fa-check"></i><b>7.2</b> Density Estimation</a><ul>
<li class="chapter" data-level="7.2.1" data-path="density.html"><a href="density.html#train-and-predict-1"><i class="fa fa-check"></i><b>7.2.1</b> Train and Predict</a></li>
<li class="chapter" data-level="7.2.2" data-path="density.html"><a href="density.html#benchmark-experiment-1"><i class="fa fa-check"></i><b>7.2.2</b> Benchmark Experiment</a></li>
</ul></li>
<li class="chapter" data-level="7.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html"><i class="fa fa-check"></i><b>7.3</b> Spatiotemporal Analysis</a><ul>
<li class="chapter" data-level="7.3.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#spatiotemporal-intro"><i class="fa fa-check"></i><b>7.3.1</b> Autocorrelation</a></li>
<li class="chapter" data-level="7.3.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-vs-nsp-cv"><i class="fa fa-check"></i><b>7.3.2</b> Spatial CV vs. Non-Spatial CV</a><ul>
<li class="chapter" data-level="7.3.2.1" data-path="spatiotemporal.html"><a href="spatiotemporal.html#nsp-cv"><i class="fa fa-check"></i><b>7.3.2.1</b> Non-Spatial CV</a></li>
<li class="chapter" data-level="7.3.2.2" data-path="spatiotemporal.html"><a href="spatiotemporal.html#sp-cv"><i class="fa fa-check"></i><b>7.3.2.2</b> Spatial CV</a></li>
<li class="chapter" data-level="7.3.2.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html#vis-spt-partitions"><i class="fa fa-check"></i><b>7.3.2.3</b> Visualization of Spatiotemporal Partitions</a></li>
</ul></li>
<li class="chapter" data-level="7.3.3" data-path="spatiotemporal.html"><a href="spatiotemporal.html#choose-spt-rsmp"><i class="fa fa-check"></i><b>7.3.3</b> Choosing a Resampling Method</a></li>
</ul></li>
<li class="chapter" data-level="7.4" data-path="ordinal.html"><a href="ordinal.html"><i class="fa fa-check"></i><b>7.4</b> Ordinal Analysis</a></li>
<li class="chapter" data-level="7.5" data-path="functional.html"><a href="functional.html"><i class="fa fa-check"></i><b>7.5</b> Functional Analysis</a><ul>
<li class="chapter" data-level="7.5.1" data-path="functional.html"><a href="functional.html#how-to-model-functional-data"><i class="fa fa-check"></i><b>7.5.1</b> How to model functional data?</a></li>
</ul></li>
<li class="chapter" data-level="7.6" data-path="multilabel.html"><a href="multilabel.html"><i class="fa fa-check"></i><b>7.6</b> Multilabel Classification</a></li>
<li class="chapter" data-level="7.7" data-path="cost-sens.html"><a href="cost-sens.html"><i class="fa fa-check"></i><b>7.7</b> Cost-Sensitive Classification</a><ul>
<li class="chapter" data-level="7.7.1" data-path="cost-sens.html"><a href="cost-sens.html#a-first-model"><i class="fa fa-check"></i><b>7.7.1</b> A First Model</a></li>
<li class="chapter" data-level="7.7.2" data-path="cost-sens.html"><a href="cost-sens.html#cost-sensitive-measure"><i class="fa fa-check"></i><b>7.7.2</b> Cost-sensitive Measure</a></li>
<li class="chapter" data-level="7.7.3" data-path="cost-sens.html"><a href="cost-sens.html#thresholding"><i class="fa fa-check"></i><b>7.7.3</b> Thresholding</a></li>
<li class="chapter" data-level="7.7.4" data-path="cost-sens.html"><a href="cost-sens.html#threshold-tuning-1"><i class="fa fa-check"></i><b>7.7.4</b> Threshold Tuning</a></li>
<li class="chapter" data-level="7.7.5" data-path="cost-sens.html"><a href="cost-sens.html#adjusting-thresholds-two-strategies"><i class="fa fa-check"></i><b>7.7.5</b> Adjusting thresholds: Two strategies</a></li>
<li class="chapter" data-level="7.7.6" data-path="cost-sens.html"><a href="cost-sens.html#pipeopthreshold"><i class="fa fa-check"></i><b>7.7.6</b> PipeOpThreshold</a></li>
<li class="chapter" data-level="7.7.7" data-path="cost-sens.html"><a href="cost-sens.html#pipeoptunethreshold"><i class="fa fa-check"></i><b>7.7.7</b> PipeOpTunethreshold</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="8" data-path="interpretation.html"><a href="interpretation.html"><i class="fa fa-check"></i><b>8</b> Model Interpretation</a><ul>
<li class="chapter" data-level="8.1" data-path="iml.html"><a href="iml.html"><i class="fa fa-check"></i><b>8.1</b> IML</a><ul>
<li class="chapter" data-level="8.1.1" data-path="iml.html"><a href="iml.html#penguin-task"><i class="fa fa-check"></i><b>8.1.1</b> Penguin Task</a></li>
<li class="chapter" data-level="8.1.2" data-path="iml.html"><a href="iml.html#featureeffects"><i class="fa fa-check"></i><b>8.1.2</b> FeatureEffects</a></li>
<li class="chapter" data-level="8.1.3" data-path="iml.html"><a href="iml.html#shapley"><i class="fa fa-check"></i><b>8.1.3</b> Shapley</a></li>
<li class="chapter" data-level="8.1.4" data-path="iml.html"><a href="iml.html#featureimp"><i class="fa fa-check"></i><b>8.1.4</b> FeatureImp</a></li>
<li class="chapter" data-level="8.1.5" data-path="iml.html"><a href="iml.html#independent-test-data"><i class="fa fa-check"></i><b>8.1.5</b> Independent Test Data</a></li>
</ul></li>
<li class="chapter" data-level="8.2" data-path="dalex.html"><a href="dalex.html"><i class="fa fa-check"></i><b>8.2</b> DALEX</a><ul>
<li class="chapter" data-level="8.2.1" data-path="dalex.html"><a href="dalex.html#interpretability-dalex-introduction"><i class="fa fa-check"></i><b>8.2.1</b> Introduction</a></li>
<li class="chapter" data-level="8.2.2" data-path="dalex.html"><a href="dalex.html#interpretability-data-fifa"><i class="fa fa-check"></i><b>8.2.2</b> Read data: FIFA</a></li>
<li class="chapter" data-level="8.2.3" data-path="dalex.html"><a href="dalex.html#interpretability-train-ranger"><i class="fa fa-check"></i><b>8.2.3</b> Train a model: Ranger</a></li>
<li class="chapter" data-level="8.2.4" data-path="dalex.html"><a href="dalex.html#interpretability-architecture"><i class="fa fa-check"></i><b>8.2.4</b> The general workflow</a></li>
<li class="chapter" data-level="8.2.5" data-path="dalex.html"><a href="dalex.html#interpretability-dataset-level"><i class="fa fa-check"></i><b>8.2.5</b> Dataset level exploration</a></li>
<li class="chapter" data-level="8.2.6" data-path="dalex.html"><a href="dalex.html#interpretability-instance-level"><i class="fa fa-check"></i><b>8.2.6</b> Instance level explanation</a></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="9" data-path="appendix.html"><a href="appendix.html"><i class="fa fa-check"></i><b>9</b> Appendix</a><ul>
<li class="chapter" data-level="9.1" data-path="list-learners.html"><a href="list-learners.html"><i class="fa fa-check"></i><b>9.1</b> Integrated Learners</a></li>
<li class="chapter" data-level="9.2" data-path="list-measures.html"><a href="list-measures.html"><i class="fa fa-check"></i><b>9.2</b> Integrated Performance Measures</a></li>
<li class="chapter" data-level="9.3" data-path="list-filters.html"><a href="list-filters.html"><i class="fa fa-check"></i><b>9.3</b> Integrated Filter Methods</a><ul>
<li class="chapter" data-level="9.3.1" data-path="list-filters.html"><a href="list-filters.html#fs-filter-list"><i class="fa fa-check"></i><b>9.3.1</b> Standalone filter methods</a></li>
<li class="chapter" data-level="9.3.2" data-path="list-filters.html"><a href="list-filters.html#fs-filter-embedded-list"><i class="fa fa-check"></i><b>9.3.2</b> Learners With Embedded Filter Methods</a></li>
</ul></li>
<li class="chapter" data-level="9.4" data-path="list-pipeops.html"><a href="list-pipeops.html"><i class="fa fa-check"></i><b>9.4</b> Integrated Pipe Operators</a></li>
<li class="chapter" data-level="9.5" data-path="compare-frameworks.html"><a href="compare-frameworks.html"><i class="fa fa-check"></i><b>9.5</b> Framework Comparison</a><ul>
<li class="chapter" data-level="9.5.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#an-introduction-to-pipeops"><i class="fa fa-check"></i><b>9.5.1</b> An introduction to “PipeOp”s</a><ul>
<li class="chapter" data-level="9.5.1.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#a-quick-glance-into-a-pipeop"><i class="fa fa-check"></i><b>9.5.1.1</b> A quick glance into a PipeOp</a></li>
<li class="chapter" data-level="9.5.1.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#constructing-the-pipeline"><i class="fa fa-check"></i><b>9.5.1.2</b> Constructing the Pipeline</a></li>
</ul></li>
<li class="chapter" data-level="9.5.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-mlr"><i class="fa fa-check"></i><b>9.5.2</b> mlr3pipelines vs. mlr</a><ul>
<li class="chapter" data-level="9.5.2.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr"><i class="fa fa-check"></i><b>9.5.2.1</b> mlr</a></li>
<li class="chapter" data-level="9.5.2.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines"><i class="fa fa-check"></i><b>9.5.2.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.3" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs.-sklearn.pipeline.pipeline"><i class="fa fa-check"></i><b>9.5.3</b> mlr3pipelines vs. sklearn.pipeline.Pipeline</a><ul>
<li class="chapter" data-level="9.5.3.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#sklearn"><i class="fa fa-check"></i><b>9.5.3.1</b> sklearn</a></li>
<li class="chapter" data-level="9.5.3.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-1"><i class="fa fa-check"></i><b>9.5.3.2</b> mlr3pipelines</a></li>
</ul></li>
<li class="chapter" data-level="9.5.4" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-vs-recipes"><i class="fa fa-check"></i><b>9.5.4</b> mlr3pipelines vs recipes</a><ul>
<li class="chapter" data-level="9.5.4.1" data-path="compare-frameworks.html"><a href="compare-frameworks.html#recipes"><i class="fa fa-check"></i><b>9.5.4.1</b> recipes</a></li>
<li class="chapter" data-level="9.5.4.2" data-path="compare-frameworks.html"><a href="compare-frameworks.html#mlr3pipelines-2"><i class="fa fa-check"></i><b>9.5.4.2</b> mlr3pipelines</a></li>
</ul></li>
</ul></li>
</ul></li>
<li class="chapter" data-level="" data-path="references.html"><a href="references.html"><i class="fa fa-check"></i>References</a></li>
</ul>

      </nav>
    </div>

    <div class="book-body">
      <div class="body-inner">
        <div class="book-header" role="navigation">
          <h1>
            <i class="fa fa-circle-o-notch fa-spin"></i><a href="./">mlr3 book</a>
          </h1>
        </div>

        <div class="page-wrapper" tabindex="-1" role="main">
          <div class="page-inner">

            <section class="normal" id="section-">
<div id="paradox" class="section level2">
<h2><span class="header-section-number">5.4</span> Parameters (using <code>paradox</code>)</h2>
<p>The <a href="https://paradox.mlr-org.com">paradox</a> package offers a language for the description of <em>parameter spaces</em>, as well as tools for useful operations on these parameter spaces.
A parameter space is often useful when describing:</p>
<ul>
<li>A set of sensible input values for an R function</li>
<li>The set of possible values that slots of a configuration object can take</li>
<li>The search space of an optimization process</li>
</ul>
<p>The tools provided by <code>paradox</code> therefore relate to:</p>
<ul>
<li><strong>Parameter checking</strong>: Verifying that a set of parameters satisfies the conditions of a parameter space</li>
<li><strong>Parameter sampling</strong>: Generating parameter values that lie in the parameter space for systematic exploration of program behavior depending on these parameters</li>
</ul>
<p><a href="https://paradox.mlr-org.com">paradox</a> is, by nature, an auxiliary package that derives its usefulness from other packages that make use of it.
It is heavily utilized in other <a href="https://github.com/mlr-org">mlr-org</a> packages such as <a href="https://mlr3.mlr-org.com">mlr3</a>, <a href="https://mlr3pipelines.mlr-org.com">mlr3pipelines</a>, and <a href="https://mlr3tuning.mlr-org.com">mlr3tuning</a>.</p>
<div id="reference-based-objects" class="section level3">
<h3><span class="header-section-number">5.4.1</span> Reference Based Objects</h3>
<p><a href="https://paradox.mlr-org.com">paradox</a> is the spiritual successor to the <a href="https://cran.r-project.org/package=ParamHelpers">ParamHelpers</a> package and was written from scratch using the <a href="https://cran.r-project.org/package=R6">R6</a> class system.
The most important consequence of this is that all objects created in <code>paradox</code> are “reference-based”, unlike most other objects in R.
When a change is made to a <code>ParamSet</code> object, for example by adding a parameter using the <code>$add()</code> function, all variables that point to this <code>ParamSet</code> will contain the changed object.
To create an independent copy of a <code>ParamSet</code>, the <code>$clone()</code> method needs to be used:</p>
<div class="sourceCode" id="cb474"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb474-1"><a href="paradox.html#cb474-1"></a><span class="kw">library</span>(<span class="st">&quot;paradox&quot;</span>)</span>
<span id="cb474-2"><a href="paradox.html#cb474-2"></a></span>
<span id="cb474-3"><a href="paradox.html#cb474-3"></a>ps =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>()</span>
<span id="cb474-4"><a href="paradox.html#cb474-4"></a>ps2 =<span class="st"> </span>ps</span>
<span id="cb474-5"><a href="paradox.html#cb474-5"></a>ps3 =<span class="st"> </span>ps<span class="op">$</span><span class="kw">clone</span>(<span class="dt">deep =</span> <span class="ot">TRUE</span>)</span>
<span id="cb474-6"><a href="paradox.html#cb474-6"></a><span class="kw">print</span>(ps) <span class="co"># the same for ps2 and ps3</span></span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
## Empty.</code></pre>
<div class="sourceCode" id="cb476"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb476-1"><a href="paradox.html#cb476-1"></a>ps<span class="op">$</span><span class="kw">add</span>(ParamLgl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;a&quot;</span>))</span></code></pre></div>
<div class="sourceCode" id="cb477"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb477-1"><a href="paradox.html#cb477-1"></a><span class="kw">print</span>(ps)  <span class="co"># ps was changed</span></span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##    id    class lower upper      levels        default value
## 1:  a ParamLgl    NA    NA  TRUE,FALSE &lt;NoDefault[3]&gt;</code></pre>
<div class="sourceCode" id="cb479"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb479-1"><a href="paradox.html#cb479-1"></a><span class="kw">print</span>(ps2) <span class="co"># contains the same reference as ps</span></span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##    id    class lower upper      levels        default value
## 1:  a ParamLgl    NA    NA  TRUE,FALSE &lt;NoDefault[3]&gt;</code></pre>
<div class="sourceCode" id="cb481"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb481-1"><a href="paradox.html#cb481-1"></a><span class="kw">print</span>(ps3) <span class="co"># is a &quot;clone&quot; of the old (empty) ps</span></span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
## Empty.</code></pre>
</div>
<div id="defining-a-parameter-space" class="section level3">
<h3><span class="header-section-number">5.4.2</span> Defining a Parameter Space</h3>
<div id="single-parameters" class="section level4">
<h4><span class="header-section-number">5.4.2.1</span> Single Parameters</h4>
<p>The basic building block for describing parameter spaces is the <strong><code>Param</code></strong> class.
It represents a single parameter, which usually can take a single atomic value.
Consider, for example, trying to configure the <code>rpart</code> package’s <code>rpart.control</code> object.
It has various components (<code>minsplit</code>, <code>cp</code>, …) that all take a single value, and that would all be represented by a different instance of a <code>Param</code> object.</p>
<p>The <code>Param</code> class has various sub-classes that represent different value types:</p>
<ul>
<li><a href="https://paradox.mlr-org.com/reference/ParamInt.html"><code>ParamInt</code></a>: Integer numbers</li>
<li><a href="https://paradox.mlr-org.com/reference/ParamDbl.html"><code>ParamDbl</code></a>: Real numbers</li>
<li><a href="https://paradox.mlr-org.com/reference/ParamFct.html"><code>ParamFct</code></a>: String values from a set of possible values, similar to R <code>factor</code>s</li>
<li><a href="https://paradox.mlr-org.com/reference/ParamLgl.html"><code>ParamLgl</code></a>: Truth values (<code>TRUE</code> / <code>FALSE</code>), as <code>logical</code>s in R</li>
<li><a href="https://paradox.mlr-org.com/reference/ParamUty.html"><code>ParamUty</code></a>: Parameter that can take any value</li>
</ul>
<p>A particular instance of a parameter is created by calling the attached <code>$new()</code> function:</p>
<div class="sourceCode" id="cb483"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb483-1"><a href="paradox.html#cb483-1"></a><span class="kw">library</span>(<span class="st">&quot;paradox&quot;</span>)</span>
<span id="cb483-2"><a href="paradox.html#cb483-2"></a>parA =<span class="st"> </span>ParamLgl<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;A&quot;</span>)</span>
<span id="cb483-3"><a href="paradox.html#cb483-3"></a>parB =<span class="st"> </span>ParamInt<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;B&quot;</span>, <span class="dt">lower =</span> <span class="dv">0</span>, <span class="dt">upper =</span> <span class="dv">10</span>, <span class="dt">tags =</span> <span class="kw">c</span>(<span class="st">&quot;tag1&quot;</span>, <span class="st">&quot;tag2&quot;</span>))</span>
<span id="cb483-4"><a href="paradox.html#cb483-4"></a>parC =<span class="st"> </span>ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;C&quot;</span>, <span class="dt">lower =</span> <span class="dv">0</span>, <span class="dt">upper =</span> <span class="dv">4</span>, <span class="dt">special_vals =</span> <span class="kw">list</span>(<span class="ot">NULL</span>))</span>
<span id="cb483-5"><a href="paradox.html#cb483-5"></a>parD =<span class="st"> </span>ParamFct<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;D&quot;</span>, <span class="dt">levels =</span> <span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>, <span class="st">&quot;z&quot;</span>), <span class="dt">default =</span> <span class="st">&quot;y&quot;</span>)</span>
<span id="cb483-6"><a href="paradox.html#cb483-6"></a>parE =<span class="st"> </span>ParamUty<span class="op">$</span><span class="kw">new</span>(<span class="dt">id =</span> <span class="st">&quot;E&quot;</span>, <span class="dt">custom_check =</span> <span class="cf">function</span>(x) checkmate<span class="op">::</span><span class="kw">checkFunction</span>(x))</span></code></pre></div>
<p>Every parameter must have:</p>
<ul>
<li><strong>id</strong> - A name for the parameter within the parameter set</li>
<li><strong>default</strong> - A default value</li>
<li><strong>special_vals</strong> - A list of values that are accepted even if they do not conform to the type</li>
<li><strong>tags</strong> - Tags that can be used to organize parameters</li>
</ul>
<p>The numeric (<code>Int</code> and <code>Dbl</code>) parameters furthermore allow for specification of a <strong>lower</strong> and <strong>upper</strong> bound.
Meanwhile, the <code>Fct</code> parameter must be given a vector of <strong>levels</strong> that define the possible states its parameter can take.
The <code>Uty</code> parameter can also have a <strong><code>custom_check</code></strong> function that must return <code>TRUE</code> when a value is acceptable and may return a <code>character(1)</code> error description otherwise.
The example above defines <code>parE</code> as a parameter that only accepts functions.</p>
<p>All values which are given to the constructor are then accessible from the object for inspection using <code>$</code>.
Although all these values can be changed for a parameter after construction, this can be a bad idea and should be avoided when possible.</p>
<p>Instead, a new parameter should be constructed.
Besides the possible values that can be given to a constructor, there are also the <code>$class</code>, <code>$nlevels</code>, <code>$is_bounded</code>, <code>$has_default</code>, <code>$storage_type</code>, <code>$is_number</code> and <code>$is_categ</code> slots that give information about a parameter.</p>
<p>A list of all slots can be found in <a href="https://paradox.mlr-org.com/reference/Param.html"><code>?Param</code></a>.</p>
<div class="sourceCode" id="cb484"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb484-1"><a href="paradox.html#cb484-1"></a>parB<span class="op">$</span>lower</span></code></pre></div>
<pre><code>## [1] 0</code></pre>
<div class="sourceCode" id="cb486"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb486-1"><a href="paradox.html#cb486-1"></a>parA<span class="op">$</span>levels</span></code></pre></div>
<pre><code>## [1]  TRUE FALSE</code></pre>
<div class="sourceCode" id="cb488"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb488-1"><a href="paradox.html#cb488-1"></a>parE<span class="op">$</span>class</span></code></pre></div>
<pre><code>## [1] &quot;ParamUty&quot;</code></pre>
<p>It is also possible to get all information of a <code>Param</code> as <code>data.table</code> by calling <code>as.data.table</code>.</p>
<div class="sourceCode" id="cb490"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb490-1"><a href="paradox.html#cb490-1"></a><span class="kw">as.data.table</span>(parA)</span></code></pre></div>
<pre><code>##    id    class lower upper      levels nlevels is_bounded special_vals        default storage_type tags
## 1:  A ParamLgl    NA    NA  TRUE,FALSE       2       TRUE    &lt;list[0]&gt; &lt;NoDefault[3]&gt;      logical</code></pre>
<div id="type-range-checking" class="section level5">
<h5><span class="header-section-number">5.4.2.1.1</span> Type / Range Checking</h5>
<p>A <code>Param</code> object offers the possibility to check whether a value satisfies its condition, i.e. is of the right type, and also falls within the range of allowed values, using the <code>$test()</code>, <code>$check()</code>, and <code>$assert()</code> functions.
<code>test()</code> should be used within conditional checks and returns <code>TRUE</code> or <code>FALSE</code>, while <code>check()</code> returns an error description when a value does not conform to the parameter (and thus plays well with the <a href="https://www.rdocumentation.org/packages/checkmate/topics/assert"><code>checkmate::assert()</code></a> function).
<code>assert()</code> will throw an error whenever a value does not fit.</p>
<div class="sourceCode" id="cb492"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb492-1"><a href="paradox.html#cb492-1"></a>parA<span class="op">$</span><span class="kw">test</span>(<span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb494"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb494-1"><a href="paradox.html#cb494-1"></a>parA<span class="op">$</span><span class="kw">test</span>(<span class="st">&quot;FALSE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] FALSE</code></pre>
<div class="sourceCode" id="cb496"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb496-1"><a href="paradox.html#cb496-1"></a>parA<span class="op">$</span><span class="kw">check</span>(<span class="st">&quot;FALSE&quot;</span>)</span></code></pre></div>
<pre><code>## [1] &quot;Must be of type &#39;logical flag&#39;, not &#39;character&#39;&quot;</code></pre>
<p>Instead of testing single parameters, it is often more convenient to check a whole set of parameters using a <code>ParamSet</code>.</p>
</div>
</div>
<div id="parameter-sets" class="section level4">
<h4><span class="header-section-number">5.4.2.2</span> Parameter Sets</h4>
<p>The ordered collection of parameters is handled in a <code>ParamSet</code><a href="#fn2" class="footnote-ref" id="fnref2"><sup>2</sup></a>.
It is initialized using the <code>$new()</code> function and optionally takes a list of <code>Param</code>s as argument.
Parameters can also be added to the constructed <code>ParamSet</code> using the <code>$add()</code> function.
It is even possible to add whole <code>ParamSet</code>s to other <code>ParamSet</code>s.</p>
<div class="sourceCode" id="cb498"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb498-1"><a href="paradox.html#cb498-1"></a>ps =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>(<span class="kw">list</span>(parA, parB))</span>
<span id="cb498-2"><a href="paradox.html#cb498-2"></a>ps<span class="op">$</span><span class="kw">add</span>(parC)</span>
<span id="cb498-3"><a href="paradox.html#cb498-3"></a>ps<span class="op">$</span><span class="kw">add</span>(ParamSet<span class="op">$</span><span class="kw">new</span>(<span class="kw">list</span>(parD, parE)))</span>
<span id="cb498-4"><a href="paradox.html#cb498-4"></a><span class="kw">print</span>(ps)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##    id    class lower upper      levels        default value
## 1:  A ParamLgl    NA    NA  TRUE,FALSE &lt;NoDefault[3]&gt;      
## 2:  B ParamInt     0    10             &lt;NoDefault[3]&gt;      
## 3:  C ParamDbl     0     4             &lt;NoDefault[3]&gt;      
## 4:  D ParamFct    NA    NA       x,y,z              y      
## 5:  E ParamUty    NA    NA             &lt;NoDefault[3]&gt;</code></pre>
<p>The individual parameters can be accessed through the <code>$params</code> slot.
It is also possible to get information about all parameters in a vectorized fashion using mostly the same slots as for individual <code>Param</code>s (i.e. <code>$class</code>, <code>$levels</code> etc.), see <code>?ParamSet</code> for details.</p>
<p>It is possible to reduce <code>ParamSet</code>s using the <strong><code>$subset</code></strong> method.
Be aware that it modifies a ParamSet in-place, so a “clone” must be created first if the original <code>ParamSet</code> should not be modified.</p>
<div class="sourceCode" id="cb500"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb500-1"><a href="paradox.html#cb500-1"></a>psSmall =<span class="st"> </span>ps<span class="op">$</span><span class="kw">clone</span>()</span>
<span id="cb500-2"><a href="paradox.html#cb500-2"></a>psSmall<span class="op">$</span><span class="kw">subset</span>(<span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>, <span class="st">&quot;C&quot;</span>))</span>
<span id="cb500-3"><a href="paradox.html#cb500-3"></a><span class="kw">print</span>(psSmall)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##    id    class lower upper      levels        default value
## 1:  A ParamLgl    NA    NA  TRUE,FALSE &lt;NoDefault[3]&gt;      
## 2:  B ParamInt     0    10             &lt;NoDefault[3]&gt;      
## 3:  C ParamDbl     0     4             &lt;NoDefault[3]&gt;</code></pre>
<p>Just as for <code>Param</code>s, and much more useful, it is possible to get the <code>ParamSet</code> as a <code>data.table</code> using <code>as.data.table()</code>.
This makes it easy to subset parameters on certain conditions and aggregate information about them, using the variety of methods provided by <code>data.table</code>.</p>
<div class="sourceCode" id="cb502"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb502-1"><a href="paradox.html#cb502-1"></a><span class="kw">as.data.table</span>(ps)</span></code></pre></div>
<pre><code>##    id    class lower upper      levels nlevels is_bounded special_vals        default storage_type      tags
## 1:  A ParamLgl    NA    NA  TRUE,FALSE       2       TRUE    &lt;list[0]&gt; &lt;NoDefault[3]&gt;      logical          
## 2:  B ParamInt     0    10                  11       TRUE    &lt;list[0]&gt; &lt;NoDefault[3]&gt;      integer tag1,tag2
## 3:  C ParamDbl     0     4                 Inf       TRUE    &lt;list[1]&gt; &lt;NoDefault[3]&gt;      numeric          
## 4:  D ParamFct    NA    NA       x,y,z       3       TRUE    &lt;list[0]&gt;              y    character          
## 5:  E ParamUty    NA    NA                 Inf      FALSE    &lt;list[0]&gt; &lt;NoDefault[3]&gt;         list</code></pre>
<div id="type-range-checking-1" class="section level5">
<h5><span class="header-section-number">5.4.2.2.1</span> Type / Range Checking</h5>
<p>Similar to individual <code>Param</code>s, the <code>ParamSet</code> provides <code>$test()</code>, <code>$check()</code> and <code>$assert()</code> functions that allow for type and range checking of parameters.
Their argument must be a named list with values that are checked against the respective parameters.
It is possible to check only a subset of parameters.</p>
<div class="sourceCode" id="cb504"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb504-1"><a href="paradox.html#cb504-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">TRUE</span>, <span class="dt">B =</span> <span class="dv">0</span>, <span class="dt">E =</span> identity))</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb506"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb506-1"><a href="paradox.html#cb506-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] &quot;A: Must be of type &#39;logical flag&#39;, not &#39;double&#39;&quot;</code></pre>
<div class="sourceCode" id="cb508"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb508-1"><a href="paradox.html#cb508-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">Z =</span> <span class="dv">1</span>))</span></code></pre></div>
<pre><code>## [1] &quot;Parameter &#39;Z&#39; not available. Did you mean &#39;A&#39; / &#39;B&#39; / &#39;C&#39;?&quot;</code></pre>
</div>
<div id="values-in-a-paramset" class="section level5">
<h5><span class="header-section-number">5.4.2.2.2</span> Values in a <code>ParamSet</code></h5>
<p>Although a <code>ParamSet</code> fundamentally represents a value space, it also has a slot <code>$values</code> that can contain a point within that space.
This is useful because many things that define a parameter space need similar operations (like parameter checking) that can be simplified.
The <code>$values</code> slot contains a named list that is always checked against parameter constraints.
When trying to set parameter values, e.g. for <code>mlr3</code> <code>Learner</code>s, it is the <code>$values</code> slot of its <code>$param_set</code> that needs to be used.</p>
<div class="sourceCode" id="cb510"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb510-1"><a href="paradox.html#cb510-1"></a>ps<span class="op">$</span>values =<span class="st"> </span><span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">TRUE</span>, <span class="dt">B =</span> <span class="dv">0</span>)</span>
<span id="cb510-2"><a href="paradox.html#cb510-2"></a>ps<span class="op">$</span>values<span class="op">$</span>B =<span class="st"> </span><span class="dv">1</span></span>
<span id="cb510-3"><a href="paradox.html#cb510-3"></a><span class="kw">print</span>(ps<span class="op">$</span>values)</span></code></pre></div>
<pre><code>## $A
## [1] TRUE
## 
## $B
## [1] 1</code></pre>
<p>The parameter constraints are automatically checked:</p>
<div class="sourceCode" id="cb512"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb512-1"><a href="paradox.html#cb512-1"></a>ps<span class="op">$</span>values<span class="op">$</span>B =<span class="st"> </span><span class="dv">100</span></span></code></pre></div>
<pre><code>## Error in self$assert(xs): Assertion on &#39;xs&#39; failed: B: Element 1 is not &lt;= 10.</code></pre>
</div>
<div id="dependencies" class="section level5">
<h5><span class="header-section-number">5.4.2.2.3</span> Dependencies</h5>
<p>It is often the case that certain parameters are irrelevant or should not be given depending on values of other parameters.
An example would be a parameter that switches a certain algorithm feature (for example regularization) on or off, combined with another parameter that controls the behavior of that feature (e.g. a regularization parameter).
The second parameter would be said to <em>depend</em> on the first parameter having the value <code>TRUE</code>.</p>
<p>A dependency can be added using the <code>$add_dep</code> method, which takes both the ids of the “depender” and “dependee” parameters as well as a <code>Condition</code> object.
The <code>Condition</code> object represents the check to be performed on the “dependee”.
Currently it can be created using <code>CondEqual$new()</code> and <code>CondAnyOf$new()</code>.
Multiple dependencies can be added, and parameters that depend on others can again be depended on, as long as no cyclic dependencies are introduced.</p>
<p>The consequence of dependencies are twofold:
For one, the <code>$check()</code>, <code>$test()</code> and <code>$assert()</code> tests will not accept the presence of a parameter if its dependency is not met.
Furthermore, when sampling or creating grid designs from a <code>ParamSet</code>, the dependencies will be respected (see <a href="paradox.html#parameter-sampling">Parameter Sampling</a>, in particular <a href="paradox.html#hierarchical-sampler">Hierarchical Sampler</a>).</p>
<p>The following example makes parameter <code>D</code> depend on parameter <code>A</code> being <code>FALSE</code>, and parameter <code>B</code> depend on parameter <code>D</code> being one of <code>"x"</code> or <code>"y"</code>.
This introduces an implicit dependency of <code>B</code> on <code>A</code> being <code>FALSE</code> as well, because <code>D</code> does not take any value if <code>A</code> is <code>TRUE</code>.</p>
<div class="sourceCode" id="cb514"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb514-1"><a href="paradox.html#cb514-1"></a>ps<span class="op">$</span><span class="kw">add_dep</span>(<span class="st">&quot;D&quot;</span>, <span class="st">&quot;A&quot;</span>, CondEqual<span class="op">$</span><span class="kw">new</span>(<span class="ot">FALSE</span>))</span>
<span id="cb514-2"><a href="paradox.html#cb514-2"></a>ps<span class="op">$</span><span class="kw">add_dep</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;D&quot;</span>, CondAnyOf<span class="op">$</span><span class="kw">new</span>(<span class="kw">c</span>(<span class="st">&quot;x&quot;</span>, <span class="st">&quot;y&quot;</span>)))</span></code></pre></div>
<div class="sourceCode" id="cb515"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb515-1"><a href="paradox.html#cb515-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">FALSE</span>, <span class="dt">D =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">B =</span> <span class="dv">1</span>))          <span class="co"># OK: all dependencies met</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb517"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb517-1"><a href="paradox.html#cb517-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">FALSE</span>, <span class="dt">D =</span> <span class="st">&quot;z&quot;</span>, <span class="dt">B =</span> <span class="dv">1</span>))          <span class="co"># B&#39;s dependency is not met</span></span></code></pre></div>
<pre><code>## [1] &quot;The parameter &#39;B&#39; can only be set if the following condition is met &#39;D ∈ {x, y}&#39;. Instead the current parameter value is: D=z&quot;</code></pre>
<div class="sourceCode" id="cb519"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb519-1"><a href="paradox.html#cb519-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">FALSE</span>, <span class="dt">B =</span> <span class="dv">1</span>))                   <span class="co"># B&#39;s dependency is not met</span></span></code></pre></div>
<pre><code>## [1] &quot;The parameter &#39;B&#39; can only be set if the following condition is met &#39;D ∈ {x, y}&#39;. Instead the parameter value for &#39;D&#39; is not set at all. Try setting &#39;D&#39; to a value that satisfies the condition&quot;</code></pre>
<div class="sourceCode" id="cb521"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb521-1"><a href="paradox.html#cb521-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">FALSE</span>, <span class="dt">D =</span> <span class="st">&quot;z&quot;</span>))                 <span class="co"># OK: B is absent</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb523"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb523-1"><a href="paradox.html#cb523-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">TRUE</span>))                           <span class="co"># OK: neither B nor D present</span></span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb525"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb525-1"><a href="paradox.html#cb525-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">TRUE</span>, <span class="dt">D =</span> <span class="st">&quot;x&quot;</span>, <span class="dt">B =</span> <span class="dv">1</span>))           <span class="co"># D&#39;s dependency is not met</span></span></code></pre></div>
<pre><code>## [1] &quot;The parameter &#39;D&#39; can only be set if the following condition is met &#39;A = FALSE&#39;. Instead the current parameter value is: A=TRUE&quot;</code></pre>
<div class="sourceCode" id="cb527"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb527-1"><a href="paradox.html#cb527-1"></a>ps<span class="op">$</span><span class="kw">check</span>(<span class="kw">list</span>(<span class="dt">A =</span> <span class="ot">TRUE</span>, <span class="dt">B =</span> <span class="dv">1</span>))                    <span class="co"># B&#39;s dependency is not met</span></span></code></pre></div>
<pre><code>## [1] &quot;The parameter &#39;B&#39; can only be set if the following condition is met &#39;D ∈ {x, y}&#39;. Instead the parameter value for &#39;D&#39; is not set at all. Try setting &#39;D&#39; to a value that satisfies the condition&quot;</code></pre>
<p>Internally, the dependencies are represented as a <code>data.table</code>, which can be accessed listed in the <strong><code>$deps</code></strong> slot.
This <code>data.table</code> can even be mutated, to e.g. remove dependencies.
There are no sanity checks done when the <code>$deps</code> slot is changed this way.
Therefore it is advised to be cautious.</p>
<div class="sourceCode" id="cb529"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb529-1"><a href="paradox.html#cb529-1"></a>ps<span class="op">$</span>deps</span></code></pre></div>
<pre><code>##    id on           cond
## 1:  D  A &lt;CondEqual[9]&gt;
## 2:  B  D &lt;CondAnyOf[9]&gt;</code></pre>
</div>
</div>
<div id="vector-parameters" class="section level4">
<h4><span class="header-section-number">5.4.2.3</span> Vector Parameters</h4>
<p>Unlike in the old <code>ParamHelpers</code> package, there are no more vectorial parameters in <code>paradox</code>.
Instead, it is now possible to create multiple copies of a single parameter using the <code>$rep</code> function.
This creates a <code>ParamSet</code> consisting of multiple copies of the parameter, which can then (optionally) be added to another <code>ParamSet</code>.</p>
<div class="sourceCode" id="cb531"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb531-1"><a href="paradox.html#cb531-1"></a>ps2d =<span class="st"> </span>ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;x&quot;</span>, <span class="dt">lower =</span> <span class="dv">0</span>, <span class="dt">upper =</span> <span class="dv">1</span>)<span class="op">$</span><span class="kw">rep</span>(<span class="dv">2</span>)</span>
<span id="cb531-2"><a href="paradox.html#cb531-2"></a><span class="kw">print</span>(ps2d)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##         id    class lower upper levels        default value
## 1: x_rep_1 ParamDbl     0     1        &lt;NoDefault[3]&gt;      
## 2: x_rep_2 ParamDbl     0     1        &lt;NoDefault[3]&gt;</code></pre>
<div class="sourceCode" id="cb533"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb533-1"><a href="paradox.html#cb533-1"></a>ps<span class="op">$</span><span class="kw">add</span>(ps2d)</span>
<span id="cb533-2"><a href="paradox.html#cb533-2"></a><span class="kw">print</span>(ps)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##         id    class lower upper      levels        default parents value
## 1:       A ParamLgl    NA    NA  TRUE,FALSE &lt;NoDefault[3]&gt;          TRUE
## 2:       B ParamInt     0    10             &lt;NoDefault[3]&gt;       D     1
## 3:       C ParamDbl     0     4             &lt;NoDefault[3]&gt;              
## 4:       D ParamFct    NA    NA       x,y,z              y       A      
## 5:       E ParamUty    NA    NA             &lt;NoDefault[3]&gt;              
## 6: x_rep_1 ParamDbl     0     1             &lt;NoDefault[3]&gt;              
## 7: x_rep_2 ParamDbl     0     1             &lt;NoDefault[3]&gt;</code></pre>
<p>It is also possible to use a <code>ParamUty</code> to accept vectorial parameters, which also works for parameters of variable length.
A <code>ParamSet</code> containing a <code>ParamUty</code> can be used for parameter checking, but not for <a href="paradox.html#parameter-sampling">sampling</a>.
To sample values for a method that needs a vectorial parameter, it is advised to use a <a href="paradox.html#transformation-between-types">parameter transformation</a> function that creates a vector from atomic values.</p>
<p>Assembling a vector from repeated parameters is aided by the parameter’s <code>$tags</code>: Parameters that were generated by the <code>$rep()</code> command automatically get tagged as belonging to a group of repeated parameters.</p>
<div class="sourceCode" id="cb535"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb535-1"><a href="paradox.html#cb535-1"></a>ps<span class="op">$</span>tags</span></code></pre></div>
<pre><code>## $A
## character(0)
## 
## $B
## [1] &quot;tag1&quot; &quot;tag2&quot;
## 
## $C
## character(0)
## 
## $D
## character(0)
## 
## $E
## character(0)
## 
## $x_rep_1
## [1] &quot;x_rep&quot;
## 
## $x_rep_2
## [1] &quot;x_rep&quot;</code></pre>
</div>
</div>
<div id="parameter-sampling" class="section level3">
<h3><span class="header-section-number">5.4.3</span> Parameter Sampling</h3>
<p>It is often useful to have a list of possible parameter values that can be systematically iterated through, for example to find parameter values for which an algorithm performs particularly well (tuning).
<code>paradox</code> offers a variety of functions that allow creating evenly-spaced parameter values in a “grid” design as well as random sampling.
In the latter case, it is possible to influence the sampling distribution in more or less fine detail.</p>
<p>A point to always keep in mind while sampling is that only numerical and factorial parameters that are bounded can be sampled from, i.e. not <code>ParamUty</code>.
Furthermore, for most samplers <code>ParamInt</code> and <code>ParamDbl</code> must have finite lower and upper bounds.</p>
<div id="parameter-designs" class="section level4">
<h4><span class="header-section-number">5.4.3.1</span> Parameter Designs</h4>
<p>Functions that sample the parameter space fundamentally return an object of the <code>Design</code> class.
These objects contain the sampled data as a <code>data.table</code> under the <code>$data</code> slot, and also offer conversion to a list of parameter-values using the <strong><code>$transpose()</code></strong> function.</p>
</div>
<div id="grid-design" class="section level4">
<h4><span class="header-section-number">5.4.3.2</span> Grid Design</h4>
<p>The <code>generate_design_grid()</code> function is used to create grid designs that contain all combinations of parameter values: All possible values for <code>ParamLgl</code> and <code>ParamFct</code>, and values with a given resolution for <code>ParamInt</code> and <code>ParamDbl</code>.
The resolution can be given for all numeric parameters, or for specific named parameters through the <code>param_resolutions</code> parameter.</p>
<div class="sourceCode" id="cb537"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb537-1"><a href="paradox.html#cb537-1"></a>design =<span class="st"> </span><span class="kw">generate_design_grid</span>(psSmall, <span class="dv">2</span>)</span>
<span id="cb537-2"><a href="paradox.html#cb537-2"></a><span class="kw">print</span>(design)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 8 rows:
##        A  B C
## 1:  TRUE  0 0
## 2:  TRUE  0 4
## 3:  TRUE 10 0
## 4:  TRUE 10 4
## 5: FALSE  0 0
## 6: FALSE  0 4
## 7: FALSE 10 0
## 8: FALSE 10 4</code></pre>
<div class="sourceCode" id="cb539"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb539-1"><a href="paradox.html#cb539-1"></a><span class="kw">generate_design_grid</span>(psSmall, <span class="dt">param_resolutions =</span> <span class="kw">c</span>(<span class="dt">B =</span> <span class="dv">1</span>, <span class="dt">C =</span> <span class="dv">2</span>))</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 4 rows:
##    B C     A
## 1: 0 0  TRUE
## 2: 0 0 FALSE
## 3: 0 4  TRUE
## 4: 0 4 FALSE</code></pre>
</div>
<div id="random-sampling" class="section level4">
<h4><span class="header-section-number">5.4.3.3</span> Random Sampling</h4>
<p><code>paradox</code> offers different methods for random sampling, which vary in the degree to which they can be configured.
The easiest way to get a uniformly random sample of parameters is <code>generate_design_random</code>.
It is also possible to create “<a href="https://en.wikipedia.org/wiki/Latin_hypercube_sampling">latin hypercube</a>” sampled parameter values using <strong><code>generate_design_lhs</code></strong>, which utilizes the <a href="https://cran.r-project.org/package=lhs">lhs</a> package.
LHS-sampling creates low-discrepancy sampled values that cover the parameter space more evenly than purely random values.</p>
<div class="sourceCode" id="cb541"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb541-1"><a href="paradox.html#cb541-1"></a>pvrand =<span class="st"> </span><span class="kw">generate_design_random</span>(ps2d, <span class="dv">500</span>)</span>
<span id="cb541-2"><a href="paradox.html#cb541-2"></a>pvlhs =<span class="st"> </span><span class="kw">generate_design_lhs</span>(ps2d, <span class="dv">500</span>)</span></code></pre></div>
<p><img src="05-technical-paradox_files/figure-html/05-technical-paradox-023-1.svg" width="45%" style="display: block; margin: auto;" /><img src="05-technical-paradox_files/figure-html/05-technical-paradox-023-2.svg" width="45%" style="display: block; margin: auto;" /></p>
</div>
<div id="generalized-sampling-the-sampler-class" class="section level4">
<h4><span class="header-section-number">5.4.3.4</span> Generalized Sampling: The <code>Sampler</code> Class</h4>
<p>It may sometimes be desirable to configure parameter sampling in more detail.
<code>paradox</code> uses the <code>Sampler</code> abstract base class for sampling, which has many different sub-classes that can be parameterized and combined to control the sampling process.
It is even possible to create further sub-classes of the <code>Sampler</code> class (or of any of <em>its</em> subclasses) for even more possibilities.</p>
<p>Every <code>Sampler</code> object has a <code>sample()</code> function, which takes one argument, the number of instances to sample, and returns a <a href="paradox.html#parameter-designs"><code>Design</code></a> object.</p>
<div id="d-samplers" class="section level5">
<h5><span class="header-section-number">5.4.3.4.1</span> 1D-Samplers</h5>
<p>There is a variety of samplers that sample values for a single parameter.
These are <code>Sampler1DUnif</code> (uniform sampling), <code>Sampler1DCateg</code> (sampling for categorical parameters), <code>Sampler1DNormal</code> (normally distributed sampling, truncated at parameter bounds), and <code>Sampler1DRfun</code> (arbitrary 1D sampling, given a random-function).
These are initialized with a single <code>Param</code>, and can then be used to sample values.</p>
<div class="sourceCode" id="cb542"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb542-1"><a href="paradox.html#cb542-1"></a>sampA =<span class="st"> </span>Sampler1DCateg<span class="op">$</span><span class="kw">new</span>(parA)</span>
<span id="cb542-2"><a href="paradox.html#cb542-2"></a>sampA<span class="op">$</span><span class="kw">sample</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 5 rows:
##        A
## 1: FALSE
## 2:  TRUE
## 3:  TRUE
## 4: FALSE
## 5: FALSE</code></pre>
</div>
<div id="hierarchical-sampler" class="section level5">
<h5><span class="header-section-number">5.4.3.4.2</span> Hierarchical Sampler</h5>
<p>The <code>SamplerHierarchical</code> sampler is an auxiliary sampler that combines many 1D-Samplers to get a combined distribution.
Its name “hierarchical” implies that it is able to respect parameter dependencies.
This suggests that parameters only get sampled when their dependencies are met.</p>
<p>The following example shows how this works: The <code>Int</code> parameter <code>B</code> depends on the <code>Lgl</code> parameter <code>A</code> being <code>TRUE</code>.
<code>A</code> is sampled to be <code>TRUE</code> in about half the cases, in which case <code>B</code> takes a value between 0 and 10.
In the cases where <code>A</code> is <code>FALSE</code>, <code>B</code> is set to <code>NA</code>.</p>
<div class="sourceCode" id="cb544"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb544-1"><a href="paradox.html#cb544-1"></a>psSmall<span class="op">$</span><span class="kw">add_dep</span>(<span class="st">&quot;B&quot;</span>, <span class="st">&quot;A&quot;</span>, CondEqual<span class="op">$</span><span class="kw">new</span>(<span class="ot">TRUE</span>))</span>
<span id="cb544-2"><a href="paradox.html#cb544-2"></a>sampH =<span class="st"> </span>SamplerHierarchical<span class="op">$</span><span class="kw">new</span>(psSmall,</span>
<span id="cb544-3"><a href="paradox.html#cb544-3"></a>  <span class="kw">list</span>(Sampler1DCateg<span class="op">$</span><span class="kw">new</span>(parA),</span>
<span id="cb544-4"><a href="paradox.html#cb544-4"></a>    Sampler1DUnif<span class="op">$</span><span class="kw">new</span>(parB),</span>
<span id="cb544-5"><a href="paradox.html#cb544-5"></a>    Sampler1DUnif<span class="op">$</span><span class="kw">new</span>(parC))</span>
<span id="cb544-6"><a href="paradox.html#cb544-6"></a>)</span>
<span id="cb544-7"><a href="paradox.html#cb544-7"></a>sampled =<span class="st"> </span>sampH<span class="op">$</span><span class="kw">sample</span>(<span class="dv">1000</span>)</span>
<span id="cb544-8"><a href="paradox.html#cb544-8"></a><span class="kw">table</span>(sampled<span class="op">$</span>data[, <span class="kw">c</span>(<span class="st">&quot;A&quot;</span>, <span class="st">&quot;B&quot;</span>)], <span class="dt">useNA =</span> <span class="st">&quot;ifany&quot;</span>)</span></code></pre></div>
<pre><code>##        B
## A         0   1   2   3   4   5   6   7   8   9  10 &lt;NA&gt;
##   FALSE   0   0   0   0   0   0   0   0   0   0   0  489
##   TRUE   46  46  51  47  47  46  42  44  47  45  50    0</code></pre>
</div>
<div id="joint-sampler" class="section level5">
<h5><span class="header-section-number">5.4.3.4.3</span> Joint Sampler</h5>
<p>Another way of combining samplers is the <code>SamplerJointIndep</code>.
<code>SamplerJointIndep</code> also makes it possible to combine <code>Sampler</code>s that are not 1D.
However, <code>SamplerJointIndep</code> currently can not handle <code>ParamSet</code>s with dependencies.</p>
<div class="sourceCode" id="cb546"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb546-1"><a href="paradox.html#cb546-1"></a>sampJ =<span class="st"> </span>SamplerJointIndep<span class="op">$</span><span class="kw">new</span>(</span>
<span id="cb546-2"><a href="paradox.html#cb546-2"></a>  <span class="kw">list</span>(Sampler1DUnif<span class="op">$</span><span class="kw">new</span>(ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;x&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)),</span>
<span id="cb546-3"><a href="paradox.html#cb546-3"></a>    Sampler1DUnif<span class="op">$</span><span class="kw">new</span>(ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;y&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)))</span>
<span id="cb546-4"><a href="paradox.html#cb546-4"></a>)</span>
<span id="cb546-5"><a href="paradox.html#cb546-5"></a>sampJ<span class="op">$</span><span class="kw">sample</span>(<span class="dv">5</span>)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 5 rows:
##         x      y
## 1: 0.5955 0.6202
## 2: 0.8824 0.8642
## 3: 0.5691 0.6143
## 4: 0.4402 0.3402
## 5: 0.8272 0.4745</code></pre>
</div>
<div id="samplerunif" class="section level5">
<h5><span class="header-section-number">5.4.3.4.4</span> SamplerUnif</h5>
<p>The <code>Sampler</code> used in <code>generate_design_random</code> is the <code>SamplerUnif</code> sampler, which corresponds to a <code>HierarchicalSampler</code> of <code>Sampler1DUnif</code> for all parameters.</p>
</div>
</div>
</div>
<div id="parameter-transformation" class="section level3">
<h3><span class="header-section-number">5.4.4</span> Parameter Transformation</h3>
<p>While the different <code>Sampler</code>s allow for a wide specification of parameter distributions, there are cases where the simplest way of getting a desired distribution is to sample parameters from a simple distribution (such as the uniform distribution) and then transform them.
This can be done by assigning a function to the <code>$trafo</code> slot of a <code>ParamSet</code>.
The <code>$trafo</code> function is called with two parameters:</p>
<ul>
<li>The list of parameter values to be transformed as <code>x</code></li>
<li>The <code>ParamSet</code> itself as <code>param_set</code></li>
</ul>
<p>The <code>$trafo</code> function must return a list of transformed parameter values.</p>
<p>The transformation is performed when calling the <code>$transpose</code> function of the <code>Design</code> object returned by a <code>Sampler</code> with the <code>trafo</code> ParamSet to <code>TRUE</code> (the default).
The following, for example, creates a parameter that is exponentially distributed:</p>
<div class="sourceCode" id="cb548"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb548-1"><a href="paradox.html#cb548-1"></a>psexp =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>(<span class="kw">list</span>(ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;par&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)))</span>
<span id="cb548-2"><a href="paradox.html#cb548-2"></a>psexp<span class="op">$</span>trafo =<span class="st"> </span><span class="cf">function</span>(x, param_set) {</span>
<span id="cb548-3"><a href="paradox.html#cb548-3"></a>  x<span class="op">$</span>par =<span class="st"> </span><span class="op">-</span><span class="kw">log</span>(x<span class="op">$</span>par)</span>
<span id="cb548-4"><a href="paradox.html#cb548-4"></a>  x</span>
<span id="cb548-5"><a href="paradox.html#cb548-5"></a>}</span>
<span id="cb548-6"><a href="paradox.html#cb548-6"></a>design =<span class="st"> </span><span class="kw">generate_design_random</span>(psexp, <span class="dv">2</span>)</span>
<span id="cb548-7"><a href="paradox.html#cb548-7"></a><span class="kw">print</span>(design)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 2 rows:
##       par
## 1: 0.4381
## 2: 0.6073</code></pre>
<div class="sourceCode" id="cb550"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb550-1"><a href="paradox.html#cb550-1"></a>design<span class="op">$</span><span class="kw">transpose</span>()  <span class="co"># trafo is TRUE</span></span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$par
## [1] 0.8253
## 
## 
## [[2]]
## [[2]]$par
## [1] 0.4987</code></pre>
<p>Compare this to <code>$transpose()</code> without transformation:</p>
<div class="sourceCode" id="cb552"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb552-1"><a href="paradox.html#cb552-1"></a>design<span class="op">$</span><span class="kw">transpose</span>(<span class="dt">trafo =</span> <span class="ot">FALSE</span>)</span></code></pre></div>
<pre><code>## [[1]]
## [[1]]$par
## [1] 0.4381
## 
## 
## [[2]]
## [[2]]$par
## [1] 0.6073</code></pre>
<div id="transformation-between-types" class="section level4">
<h4><span class="header-section-number">5.4.4.1</span> Transformation between Types</h4>
<p>Usually the design created with one <code>ParamSet</code> is then used to configure other objects that themselves have a <code>ParamSet</code> which defines the values they take.
The <code>ParamSet</code>s which can be used for random sampling, however, are restricted in some ways:
They must have finite bounds, and they may not contain “untyped” (<code>ParamUty</code>) parameters.
<code>$trafo</code> provides the glue for these situations.
There is relatively little constraint on the trafo function’s return value, so it is possible to return values that have different bounds or even types than the original <code>ParamSet</code>.
It is even possible to remove some parameters and add new ones.</p>
<p>Suppose, for example, that a certain method requires a <em>function</em> as a parameter.
Let’s say a function that summarizes its data in a certain way.
The user can pass functions like <code>median()</code> or <code>mean()</code>, but could also pass quantiles or something completely different.
This method would probably use the following <code>ParamSet</code>:</p>
<div class="sourceCode" id="cb554"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb554-1"><a href="paradox.html#cb554-1"></a>methodPS =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>(</span>
<span id="cb554-2"><a href="paradox.html#cb554-2"></a>  <span class="kw">list</span>(</span>
<span id="cb554-3"><a href="paradox.html#cb554-3"></a>    ParamUty<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;fun&quot;</span>,</span>
<span id="cb554-4"><a href="paradox.html#cb554-4"></a>      <span class="dt">custom_check =</span> <span class="cf">function</span>(x) checkmate<span class="op">::</span><span class="kw">checkFunction</span>(x, <span class="dt">nargs =</span> <span class="dv">1</span>))</span>
<span id="cb554-5"><a href="paradox.html#cb554-5"></a>  )</span>
<span id="cb554-6"><a href="paradox.html#cb554-6"></a>)</span>
<span id="cb554-7"><a href="paradox.html#cb554-7"></a><span class="kw">print</span>(methodPS)</span></code></pre></div>
<pre><code>## &lt;ParamSet&gt;
##     id    class lower upper levels        default value
## 1: fun ParamUty    NA    NA        &lt;NoDefault[3]&gt;</code></pre>
<p>If one wanted to sample this method, using one of four functions, a way to do this would be:</p>
<div class="sourceCode" id="cb556"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb556-1"><a href="paradox.html#cb556-1"></a>samplingPS =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>(</span>
<span id="cb556-2"><a href="paradox.html#cb556-2"></a>  <span class="kw">list</span>(</span>
<span id="cb556-3"><a href="paradox.html#cb556-3"></a>    ParamFct<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;fun&quot;</span>, <span class="kw">c</span>(<span class="st">&quot;mean&quot;</span>, <span class="st">&quot;median&quot;</span>, <span class="st">&quot;min&quot;</span>, <span class="st">&quot;max&quot;</span>))</span>
<span id="cb556-4"><a href="paradox.html#cb556-4"></a>  )</span>
<span id="cb556-5"><a href="paradox.html#cb556-5"></a>)</span>
<span id="cb556-6"><a href="paradox.html#cb556-6"></a></span>
<span id="cb556-7"><a href="paradox.html#cb556-7"></a>samplingPS<span class="op">$</span>trafo =<span class="st"> </span><span class="cf">function</span>(x, param_set) {</span>
<span id="cb556-8"><a href="paradox.html#cb556-8"></a>  <span class="co"># x$fun is a `character(1)`,</span></span>
<span id="cb556-9"><a href="paradox.html#cb556-9"></a>  <span class="co"># in particular one of &#39;mean&#39;, &#39;median&#39;, &#39;min&#39;, &#39;max&#39;.</span></span>
<span id="cb556-10"><a href="paradox.html#cb556-10"></a>  <span class="co"># We want to turn it into a function!</span></span>
<span id="cb556-11"><a href="paradox.html#cb556-11"></a>  x<span class="op">$</span>fun =<span class="st"> </span><span class="kw">get</span>(x<span class="op">$</span>fun, <span class="dt">mode =</span> <span class="st">&quot;function&quot;</span>)</span>
<span id="cb556-12"><a href="paradox.html#cb556-12"></a>  x</span>
<span id="cb556-13"><a href="paradox.html#cb556-13"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb557"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb557-1"><a href="paradox.html#cb557-1"></a>design =<span class="st"> </span><span class="kw">generate_design_random</span>(samplingPS, <span class="dv">2</span>)</span>
<span id="cb557-2"><a href="paradox.html#cb557-2"></a><span class="kw">print</span>(design)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 2 rows:
##       fun
## 1: median
## 2:    max</code></pre>
<p>Note that the <code>Design</code> only contains the column “<code>fun</code>” as a <code>character</code> column.
To get a single value as a <em>function</em>, the <code>$transpose</code> function is used.</p>
<div class="sourceCode" id="cb559"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb559-1"><a href="paradox.html#cb559-1"></a>xvals =<span class="st"> </span>design<span class="op">$</span><span class="kw">transpose</span>()</span>
<span id="cb559-2"><a href="paradox.html#cb559-2"></a><span class="kw">print</span>(xvals[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## $fun
## function (x, na.rm = FALSE, ...) 
## UseMethod(&quot;median&quot;)
## &lt;bytecode: 0x55deaa99ba18&gt;
## &lt;environment: namespace:stats&gt;</code></pre>
<p>We can now check that it fits the requirements set by <code>methodPS</code>, and that <code>fun</code> it is in fact a function:</p>
<div class="sourceCode" id="cb561"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb561-1"><a href="paradox.html#cb561-1"></a>methodPS<span class="op">$</span><span class="kw">check</span>(xvals[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1] &quot;fun: Must have exactly 1 formal arguments, but has 2&quot;</code></pre>
<div class="sourceCode" id="cb563"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb563-1"><a href="paradox.html#cb563-1"></a>xvals[[<span class="dv">1</span>]]<span class="op">$</span><span class="kw">fun</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## [1] 5.5</code></pre>
<p>Imagine now that a different kind of parametrization of the function is desired:
The user wants to give a function that selects a certain quantile, where the quantile is set by a parameter.
In that case the <code>$transpose</code> function could generate a function in a different way.
For interpretability, the parameter is called “<code>quantile</code>” before transformation, and the “<code>fun</code>” parameter is generated on the fly.</p>
<div class="sourceCode" id="cb565"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb565-1"><a href="paradox.html#cb565-1"></a>samplingPS2 =<span class="st"> </span>ParamSet<span class="op">$</span><span class="kw">new</span>(</span>
<span id="cb565-2"><a href="paradox.html#cb565-2"></a>  <span class="kw">list</span>(</span>
<span id="cb565-3"><a href="paradox.html#cb565-3"></a>    ParamDbl<span class="op">$</span><span class="kw">new</span>(<span class="st">&quot;quantile&quot;</span>, <span class="dv">0</span>, <span class="dv">1</span>)</span>
<span id="cb565-4"><a href="paradox.html#cb565-4"></a>  )</span>
<span id="cb565-5"><a href="paradox.html#cb565-5"></a>)</span>
<span id="cb565-6"><a href="paradox.html#cb565-6"></a></span>
<span id="cb565-7"><a href="paradox.html#cb565-7"></a>samplingPS2<span class="op">$</span>trafo =<span class="st"> </span><span class="cf">function</span>(x, param_set) {</span>
<span id="cb565-8"><a href="paradox.html#cb565-8"></a>  <span class="co"># x$quantile is a `numeric(1)` between 0 and 1.</span></span>
<span id="cb565-9"><a href="paradox.html#cb565-9"></a>  <span class="co"># We want to turn it into a function!</span></span>
<span id="cb565-10"><a href="paradox.html#cb565-10"></a>  <span class="kw">list</span>(<span class="dt">fun =</span> <span class="cf">function</span>(input) <span class="kw">quantile</span>(input, x<span class="op">$</span>quantile))</span>
<span id="cb565-11"><a href="paradox.html#cb565-11"></a>}</span></code></pre></div>
<div class="sourceCode" id="cb566"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb566-1"><a href="paradox.html#cb566-1"></a>design =<span class="st"> </span><span class="kw">generate_design_random</span>(samplingPS2, <span class="dv">2</span>)</span>
<span id="cb566-2"><a href="paradox.html#cb566-2"></a><span class="kw">print</span>(design)</span></code></pre></div>
<pre><code>## &lt;Design&gt; with 2 rows:
##    quantile
## 1:   0.3437
## 2:   0.2406</code></pre>
<p>The <code>Design</code> now contains the column “<code>quantile</code>” that will be used by the <code>$transpose</code> function to create the <code>fun</code> parameter.
We also check that it fits the requirement set by <code>methodPS</code>, and that it is a function.</p>
<div class="sourceCode" id="cb568"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb568-1"><a href="paradox.html#cb568-1"></a>xvals =<span class="st"> </span>design<span class="op">$</span><span class="kw">transpose</span>()</span>
<span id="cb568-2"><a href="paradox.html#cb568-2"></a><span class="kw">print</span>(xvals[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## $fun
## function(input) quantile(input, x$quantile)
## &lt;environment: 0x55deaf5306d8&gt;</code></pre>
<div class="sourceCode" id="cb570"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb570-1"><a href="paradox.html#cb570-1"></a>methodPS<span class="op">$</span><span class="kw">check</span>(xvals[[<span class="dv">1</span>]])</span></code></pre></div>
<pre><code>## [1] TRUE</code></pre>
<div class="sourceCode" id="cb572"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb572-1"><a href="paradox.html#cb572-1"></a>xvals[[<span class="dv">1</span>]]<span class="op">$</span><span class="kw">fun</span>(<span class="dv">1</span><span class="op">:</span><span class="dv">10</span>)</span></code></pre></div>
<pre><code>## 34.37% 
##  4.093</code></pre>

</div>
</div>
</div>
<div class="footnotes">
<hr />
<ol start="2">
<li id="fn2"><p>Although the name is suggestive of a “Set”-valued <code>Param</code>, this is unrelated to the other objects that follow the <code>ParamXxx</code> naming scheme.<a href="paradox.html#fnref2" class="footnote-back">↩︎</a></p></li>
</ol>
</div>
            </section>

          </div>
        </div>
      </div>
<a href="backends.html" class="navigation navigation-prev " aria-label="Previous page"><i class="fa fa-angle-left"></i></a>
<a href="logging.html" class="navigation navigation-next " aria-label="Next page"><i class="fa fa-angle-right"></i></a>
    </div>
  </div>
<script src="libs/gitbook-2.6.7/js/app.min.js"></script>
<script src="libs/gitbook-2.6.7/js/lunr.js"></script>
<script src="libs/gitbook-2.6.7/js/clipboard.min.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-search.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-sharing.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-fontsettings.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-bookdown.js"></script>
<script src="libs/gitbook-2.6.7/js/jquery.highlight.js"></script>
<script src="libs/gitbook-2.6.7/js/plugin-clipboard.js"></script>
<script>
gitbook.require(["gitbook"], function(gitbook) {
gitbook.start({
"sharing": {
"github": true,
"facebook": false,
"twitter": true,
"linkedin": false,
"weibo": false,
"instapaper": false,
"vk": false,
"all": ["facebook", "twitter", "linkedin", "weibo", "instapaper"]
},
"fontsettings": {
"theme": "white",
"family": "sans",
"size": 2
},
"edit": {
"link": "https://github.com/mlr-org/mlr3book/edit/master/bookdown/05-technical-paradox.Rmd",
"text": "Edit this chapter"
},
"history": {
"link": "https://github.com/mlr-org/mlr3book/commits/master/05-technical-paradox.Rmd",
"text": "Edit history"
},
"view": {
"link": null,
"text": null
},
"download": [["mlr3book.pdf", "PDF"]],
"toc": {
"collapse": "section"
}
});
});
</script>

<!-- dynamically load mathjax for compatibility with self-contained -->
<script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://mathjax.rstudio.com/latest/MathJax.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script>
</body>

</html>
